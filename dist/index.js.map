{"version":3,"file":"index.js","sources":["../src/helpers/utils.ts","../src/scales.ts","../src/interactions.ts","../src/drawing/footprint.ts","../src/drawing/scales.ts","../src/drawing/grid.ts","../src/drawing/crosshair.ts","../src/drawing/measure.ts","../src/drawing.ts","../src/chart.ts","../src/api/volume-footprint-series-api.ts","../src/api/time-scale-api.ts","../src/api/price-scale-api.ts","../src/api/chart-api.ts","../src/api/create-chart.ts"],"sourcesContent":["/**\n * Utility functions and helpers for the Volume Footprint Chart library.\n * Contains reusable calculations for volume analysis, color mapping, and number formatting.\n */\n\n/**\n * Creates color mapping functions for buy and sell volumes based on opacity scaling.\n * @param sideMax Maximum volume on either buy or sell side\n * @param buyBase Base opacity for buy volumes\n * @param sellBase Base opacity for sell volumes\n * @returns Object with buyRGBA and sellRGBA functions\n */\nexport function createVolumeColorMappers(sideMax: number, buyBase: number = 0.15, sellBase: number = 0.15) {\n  const buyRGBA = (v: number) => `rgba(0,255,0,${buyBase + 0.55 * (v / sideMax)})`;\n  const sellRGBA = (v: number) => `rgba(255,0,0,${sellBase + 0.55 * (v / sideMax)})`;\n  return { buyRGBA, sellRGBA };\n}\n\n/**\n * Formats a number with K/M/T suffixes for large values.\n * @param v The number to format\n * @returns Formatted string\n */\nexport function formatNumber(v: number): string {\n  const a = Math.abs(v);\n  if (a >= 1e12) return (v / 1e12).toFixed(2) + \"T\";\n  if (a >= 1e6) return (v / 1e6).toFixed(2) + \"M\";\n  if (a >= 1e3) return (v / 1e3).toFixed(2) + \"K\";\n  return Math.round(v).toString();\n}\n\n/**\n * Calculates the Point of Control (POC) and Value Area (VAH/VAL) for volume profile analysis.\n * @param rows Sorted footprint levels (high to low price)\n * @returns Object containing POC index, VAH/VAL indices and prices, and total volume\n */\nexport function computeVolumeArea(rows: any[]): { pocIdx: number, vahIdx: number, valIdx: number, VAH: number, VAL: number, totalVol: number } {\n  const levelVols = rows.map(r => r.buy + r.sell);\n  const totalVol = levelVols.reduce((a, b) => a + b, 0);\n  let pocIdx = 0;\n  for (let i = 1; i < levelVols.length; i++) {\n    if (levelVols[i] > levelVols[pocIdx]) pocIdx = i;\n  }\n\n  let included = new Set([pocIdx]);\n  const enableProfile = rows.length > 3;\n  if (enableProfile) {\n    let acc = levelVols[pocIdx];\n    let up = pocIdx - 1, down = pocIdx + 1;\n    while (acc < 0.7 * totalVol && (up >= 0 || down < rows.length)) {\n      const upVol = up >= 0 ? levelVols[up] : -1;\n      const downVol = down < rows.length ? levelVols[down] : -1;\n      if (upVol >= downVol) {\n        if (up >= 0) { included.add(up); acc += levelVols[up]; up--; }\n        else { included.add(down); acc += levelVols[down]; down++; }\n      } else {\n        if (down < rows.length) { included.add(down); acc += levelVols[down]; down++; }\n        else { included.add(up); acc += levelVols[up]; up--; }\n      }\n    }\n  }\n\n  const vahIdx = Math.min(...included);\n  const valIdx = Math.max(...included);\n  const VAH = rows[vahIdx]?.price;\n  const VAL = rows[valIdx]?.price;\n\n  return { pocIdx, vahIdx, valIdx, VAH, VAL, totalVol };\n}","/**\n * Provides coordinate transformation and scaling utilities for the chart.\n * Converts between screen pixels, data indices, and price values with zoom and pan support.\n */\n\nimport { CandleData } from './types';\nimport { formatNumber } from './helpers/utils';\n\n/**\n * Handles coordinate transformations and scaling calculations for the chart.\n * Provides methods to convert between screen coordinates, data indices, and price levels.\n */\nexport class Scales {\n  private data: CandleData[] = [];\n  private margin: { top: number; bottom: number; left: number; right: number };\n  private view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number };\n  private canvasWidth: number;\n  private canvasHeight: number;\n  private showVolumeFootprint: boolean;\n  private TICK: number;\n  private baseRowPx: number;\n  private TEXT_VIS: { minZoomX: number; minRowPx: number; minBoxPx: number };\n\n  /**\n   * Creates a Scales instance for coordinate transformations.\n   * @param data Array of candlestick data\n   * @param margin Chart margin configuration\n   * @param view Current view state\n   * @param canvasWidth Canvas width in pixels\n   * @param canvasHeight Canvas height in pixels\n   * @param showVolumeFootprint Whether volume footprint is displayed\n   * @param TICK Price tick size\n   * @param baseRowPx Base row height in pixels\n   * @param TEXT_VIS Text visibility thresholds\n   */\n  constructor(\n    data: CandleData[],\n    margin: { top: number; bottom: number; left: number; right: number },\n    view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number },\n    canvasWidth: number,\n    canvasHeight: number,\n    showVolumeFootprint: boolean,\n    TICK: number,\n    baseRowPx: number,\n    TEXT_VIS: { minZoomX: number; minRowPx: number; minBoxPx: number }\n  ) {\n    this.data = data;\n    this.margin = margin;\n    this.view = view;\n    this.canvasWidth = canvasWidth;\n    this.canvasHeight = canvasHeight;\n    this.showVolumeFootprint = showVolumeFootprint;\n    this.TICK = TICK;\n    this.baseRowPx = baseRowPx;\n    this.TEXT_VIS = TEXT_VIS;\n  }\n\n  /** Returns the height of the chart area in pixels (excluding margins). */\n  chartHeight(): number {\n    return this.canvasHeight - this.margin.top - this.margin.bottom;\n  }\n\n  /** Returns the current row height in pixels, adjusted for zoom. */\n  rowHeightPx(): number {\n    return this.baseRowPx * this.view.zoomY;\n  }\n\n  /** Returns the scaled spacing between candles, depending on volume footprint mode. */\n  scaledSpacing(): number {\n    if (!this.showVolumeFootprint) {\n      return (15 + 1) * this.view.zoomX; // Candle width + 1px gap when volume footprint is off\n    }\n    return 132 * this.view.zoomX; // Reduced spacing for closer candle layout\n  }\n\n  scaledCandle(): number {\n    return 15 * this.view.zoomX; // BASE_CANDLE * zoomX\n  }\n\n  scaledBox(): number {\n    return 55 * this.view.zoomX; // BASE_BOX * zoomX\n  }\n\n  scaledImb(): number {\n    return 3 * this.view.zoomX; // Thinner imbalance boxes\n  }\n\n  shouldShowCellText(): boolean {\n    return (\n      this.view.zoomX >= this.TEXT_VIS.minZoomX &&\n      this.rowHeightPx() >= this.TEXT_VIS.minRowPx &&\n      this.scaledBox() >= this.TEXT_VIS.minBoxPx\n    );\n  }\n\n  priceToRowIndex(price: number): number {\n    return (this.ladderTop - price) / this.TICK + this.view.offsetRows;\n  }\n\n  rowIndexToPrice(row: number): number {\n    return this.ladderTop - (row - this.view.offsetRows) * this.TICK;\n  }\n\n  rowToY(row: number): number {\n    return this.margin.top + row * this.rowHeightPx();\n  }\n\n  priceToY(price: number): number {\n    return this.rowToY(this.priceToRowIndex(price));\n  }\n\n  indexToX(i: number, startIndex: number): number {\n    const s = this.scaledSpacing();\n    return this.margin.left + (i - startIndex) * s + s / 2 - this.xShift;\n  }\n\n  getVisibleRange(): { startIndex: number; endIndex: number } {\n    const s = this.scaledSpacing();\n    const pixelOffset = this.view.offsetX;\n    const startFloat = pixelOffset / s;\n    const startIndex = Math.max(0, Math.floor(startFloat));\n    const contentW = this.canvasWidth - this.margin.left - this.margin.right;\n    const visibleCount = Math.ceil(contentW / s) + 2;\n    const endIndex = Math.min(this.data.length, startIndex + visibleCount);\n    return { startIndex, endIndex };\n  }\n\n  computePriceBarLabels(): Array<{ price: number; y: number }> {\n    const pixelSpacing = 28;\n    const chartHeightPx = this.chartHeight();\n    const maxLabels = 7;\n    const numLabels = Math.min(maxLabels, Math.floor(chartHeightPx / pixelSpacing));\n\n    const pTop = this.rowIndexToPrice(0);\n    const pBot = this.rowIndexToPrice(Math.floor(chartHeightPx / this.rowHeightPx()));\n    const pMin = Math.min(pTop, pBot);\n    const pMax = Math.max(pTop, pBot);\n    const priceRange = pMax - pMin;\n\n    const stepPrice = Math.max(this.TICK, priceRange / Math.max(1, numLabels - 1));\n\n    let start = Math.ceil(pMin / stepPrice) * stepPrice;\n    const out = [];\n    for (let price = start; price <= pMax + 1e-6; price += stepPrice) {\n      out.push({ price: Math.round(price), y: this.priceToY(price) });\n    }\n    return out;\n  }\n\n  formatK(v: number): string {\n    return formatNumber(v);\n  }\n\n  private get xShift(): number {\n    const s = this.scaledSpacing();\n    const pixelOffset = this.view.offsetX;\n    const startFloat = pixelOffset / s;\n    const startIndex = Math.max(0, Math.floor(startFloat));\n    const shift = pixelOffset - startIndex * s;\n    return shift < 0 ? shift + s : shift;\n  }\n\n  screenXToDataIndex(screenX: number): number {\n    const vr = this.getVisibleRange();\n    const s = this.scaledSpacing();\n    const relativeX = screenX - this.margin.left + this.xShift - s / 2;\n    return vr.startIndex + Math.floor(relativeX / s);\n  }\n\n  // Exact fractional data index for precise drawing coordinates\n  screenXToExactDataIndex(screenX: number): number {\n    const vr = this.getVisibleRange();\n    const s = this.scaledSpacing();\n    const relativeX = screenX - this.margin.left + this.xShift - s / 2;\n    return vr.startIndex + relativeX / s;\n  }\n\n  screenYToPrice(screenY: number): number {\n    // Use the exact same calculation as the crosshair\n    return this.rowIndexToPrice(\n      (screenY - this.margin.top) / this.rowHeightPx() + this.view.offsetRows\n    );\n  }\n\n  private get ladderTop(): number {\n    if (this.data.length === 0) return 10000;\n    return Math.ceil(Math.max(...this.data.map(c => c.high)) / this.TICK) * this.TICK + 10 * this.TICK;\n  }\n}","/**\n * Manages user interactions and input handling for the Volume Footprint Chart.\n * Processes mouse/touch events, wheel zooming, panning, and measurement tools.\n */\n\nimport { VFCEvents, MeasureRectangle } from './types';\nimport { Scales } from './scales';\n\n/**\n * Handles user interactions with the chart, including mouse/touch events, zooming, panning, and measuring.\n * Manages crosshair positioning, momentum scrolling, and measurement tools.\n */\nexport class Interactions {\n  private canvas: HTMLCanvasElement;\n  private margin: { top: number; bottom: number; left: number; right: number };\n  private view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number };\n  private events: VFCEvents;\n  private crosshair: { x: number; y: number; visible: boolean };\n  private momentum = { raf: 0, vx: 0, lastTs: 0, active: false };\n  private readonly PAN_INVERT = { x: true, y: false };\n  private scales: Scales;\n\n\n  // Measure state\n  private isMeasureMode = false;\n  private measureRectangle: MeasureRectangle | null = null;\n\n  /**\n   * Creates an Interactions instance to handle user input for the chart.\n   * @param canvas The HTML canvas element\n   * @param margin Chart margin configuration\n   * @param view Current view state (zoom and offset)\n   * @param events Event callbacks\n   * @param crosshair Crosshair position state\n   * @param scales Scales instance for coordinate conversions\n   */\n  constructor(\n    canvas: HTMLCanvasElement,\n    margin: { top: number; bottom: number; left: number; right: number },\n    view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number },\n    events: VFCEvents,\n    crosshair: { x: number; y: number; visible: boolean },\n    scales: Scales\n  ) {\n    this.canvas = canvas;\n    this.margin = margin;\n    this.view = view;\n    this.events = events;\n    this.crosshair = crosshair;\n    this.scales = scales;\n    this.setupMouseTracking();\n  }\n\n  /**\n   * Handles mouse wheel events for zooming different chart areas.\n   * Zooms price axis when over price bar, time axis when over timeline, both when over chart body.\n   * @param e The wheel event\n   */\n  handleWheel(e: WheelEvent): void {\n    e.preventDefault();\n    const rect = this.canvas.getBoundingClientRect();\n    const mx = e.clientX - rect.left;\n    const my = e.clientY - rect.top;\n    const chartRight = this.canvas.clientWidth - this.margin.right;\n    const yBottom = this.margin.top + 600 - this.margin.top - this.margin.bottom; // chartHeight\n\n    const overPriceBar = mx > chartRight;\n    const overTimeline = my > yBottom;\n    const overChartBody = !overPriceBar && !overTimeline;\n\n    if (overPriceBar) {\n      this.view.zoomY *= (e.deltaY < 0 ? 1.1 : 0.9);\n      this.view.zoomY = Math.max(0.1, Math.min(8, this.view.zoomY));\n      this.events.onZoom?.(this.view.zoomX, this.view.zoomY);\n      this.clearMeasureRectangle();\n    } else if (overChartBody) {\n      const prev = this.view.zoomX;\n      const factor = (e.deltaY < 0 ? 1.1 : 0.9);\n      const next = Math.max(0.1, Math.min(8, prev * factor));\n      this.view.zoomX = next;\n      this.view.zoomY *= (next / prev); // Also zoom the price axis\n      this.view.zoomY = Math.max(0.1, Math.min(8, this.view.zoomY));\n      // Adjust offsetX to keep the same startIndex (prevent scrolling)\n      this.view.offsetX *= (next / prev);\n      this.events.onZoom?.(this.view.zoomX, this.view.zoomY);\n      this.clearMeasureRectangle();\n    } else if (overTimeline) {\n      // Timeline zoom: same mechanism as chart but only affects X axis\n      const prev = this.view.zoomX;\n      const factor = (e.deltaY < 0 ? 1.1 : 0.9);\n      const next = Math.max(0.1, Math.min(8, prev * factor));\n      this.view.zoomX = next;\n      this.view.offsetX *= (next / prev);\n      this.events.onZoom?.(this.view.zoomX, this.view.zoomY);\n      this.clearMeasureRectangle();\n    }\n  }\n\n  handlePointerDown(e: PointerEvent): void {\n    const rect = this.canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Check if we're in measure mode\n    if (this.isMeasureMode) {\n      this.handleMeasurePointerDown(e, x, y);\n      return;\n    }\n\n    // Normal pan mode\n    this.canvas.setPointerCapture(e.pointerId);\n    let lastX = e.clientX;\n    let lastY = e.clientY;\n    let velX = 0;\n    let lastT = performance.now();\n\n    const onMove = (ev: PointerEvent) => {\n      const now = performance.now();\n      const dt = Math.max(1, now - lastT);\n      const dx = ev.clientX - lastX;\n      const dy = ev.clientY - lastY;\n      lastX = ev.clientX;\n      lastY = ev.clientY;\n      lastT = now;\n\n      // 1:1 mouse movement like the original volume_footprint_chart.html\n      this.view.offsetX += (this.PAN_INVERT.x ? -dx : dx);\n      this.view.offsetRows += (this.PAN_INVERT.y ? -dy : dy) / (22 * this.view.zoomY); // rowHeightPx()\n      velX = (this.PAN_INVERT.x ? -dx : dx) / dt;\n      this.events.onPan?.(this.view.offsetX, this.view.offsetRows);\n      this.clearMeasureRectangle();\n    };\n\n    const onUp = () => {\n      this.canvas.releasePointerCapture(e.pointerId);\n      this.canvas.removeEventListener('pointermove', onMove);\n      this.canvas.removeEventListener('pointerup', onUp);\n      this.canvas.removeEventListener('pointercancel', onUp);\n      // Removed momentum to stop chart from continuing to move after mouse release\n    };\n\n    this.canvas.addEventListener('pointermove', onMove);\n    this.canvas.addEventListener('pointerup', onUp);\n    this.canvas.addEventListener('pointercancel', onUp);\n  }\n\n\n  private handleMeasurePointerDown(e: PointerEvent, x: number, y: number): void {\n    // Check if we're over the chart area\n    const chartRight = this.canvas.clientWidth - this.margin.right;\n    const canvasHeight = this.canvas.height / window.devicePixelRatio;\n    const yBottom = canvasHeight - this.margin.bottom;\n\n    const overChartBody = x >= this.margin.left && x <= chartRight &&\n                          y >= this.margin.top && y <= yBottom;\n\n    if (!overChartBody) return;\n\n    this.canvas.setPointerCapture(e.pointerId);\n\n    // Start measuring from this point - store screen coordinates directly\n    this.measureRectangle = {\n      startX: x,\n      startY: y,\n      endX: x,\n      endY: y\n    };\n\n    const onMove = (ev: PointerEvent) => {\n      const rect = this.canvas.getBoundingClientRect();\n      const currentX = ev.clientX - rect.left;\n      const currentY = ev.clientY - rect.top;\n\n      // Update the end point of the measure rectangle\n      if (this.measureRectangle) {\n        this.measureRectangle.endX = currentX;\n        this.measureRectangle.endY = currentY;\n      }\n\n      // Trigger redraw\n      this.events.onMouseMove?.(currentX, currentY, true);\n    };\n\n    const onUp = () => {\n      this.canvas.releasePointerCapture(e.pointerId);\n      this.canvas.removeEventListener('pointermove', onMove);\n      this.canvas.removeEventListener('pointerup', onUp);\n      this.canvas.removeEventListener('pointercancel', onUp);\n    };\n\n    this.canvas.addEventListener('pointermove', onMove);\n    this.canvas.addEventListener('pointerup', onUp);\n    this.canvas.addEventListener('pointercancel', onUp);\n  }\n\n\n\n\n\n  // Public methods for controlling measure mode\n  setMeasureMode(enabled: boolean): void {\n    this.isMeasureMode = enabled;\n    if (!enabled) {\n      this.measureRectangle = null;\n    }\n  }\n\n  getMeasureRectangle(): MeasureRectangle | null {\n    return this.measureRectangle;\n  }\n\n  clearMeasureRectangle(): void {\n    this.measureRectangle = null;\n  }\n\n  private cancelMomentum(): void {\n    if (this.momentum.raf) {\n      cancelAnimationFrame(this.momentum.raf);\n      this.momentum.raf = 0;\n    }\n    this.momentum.active = false;\n  }\n\n  private startMomentum(vx: number): void {\n    this.momentum.vx = vx;\n    this.momentum.lastTs = 0;\n    this.momentum.active = true;\n    if (!this.momentum.raf) {\n      this.momentum.raf = requestAnimationFrame(this.stepMomentum.bind(this));\n    }\n  }\n\n  private stepMomentum(ts: number): void {\n    if (!this.momentum.active) {\n      this.momentum.raf = 0;\n      return;\n    }\n    if (!this.momentum.lastTs) this.momentum.lastTs = ts;\n    const dt = ts - this.momentum.lastTs;\n    this.momentum.lastTs = ts;\n    this.view.offsetX += this.momentum.vx * dt;\n    this.momentum.vx *= 0.98;\n    if (Math.abs(this.momentum.vx) < 0.001) {\n      this.cancelMomentum();\n    }\n  }\n\n  private setupMouseTracking(): void {\n    this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\n    this.canvas.addEventListener('mouseleave', this.handleMouseLeave.bind(this));\n  }\n\n  private handleMouseMove(e: MouseEvent): void {\n    const rect = this.canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Check if mouse is over the chart area\n    const chartRight = this.canvas.clientWidth - this.margin.right;\n    const canvasHeight = this.canvas.height / window.devicePixelRatio;\n    const yBottom = canvasHeight - this.margin.bottom;\n\n    const overChartBody = x >= this.margin.left && x <= chartRight &&\n                         y >= this.margin.top && y <= yBottom;\n\n    if (overChartBody) {\n      this.crosshair.x = x;\n      this.crosshair.y = y;\n      this.crosshair.visible = true;\n    } else {\n      this.crosshair.visible = false;\n    }\n\n    // Trigger redraw\n    this.events.onMouseMove?.(x, y, this.crosshair.visible);\n  }\n\n  private handleMouseLeave(): void {\n    this.crosshair.visible = false;\n    this.events.onMouseMove?.(-1, -1, false);\n  }\n}","/**\n * Footprint-specific drawing functions for the Volume Footprint Chart.\n * Handles rendering of volume profiles, imbalance markers, and related visualizations.\n */\n\nimport { CandleData } from '../types';\nimport { Scales } from '../scales';\nimport { createVolumeColorMappers, computeVolumeArea } from '../helpers/utils';\n\n/**\n * Draws the footprint volume boxes for buy and sell volumes at each price level.\n */\nexport function drawFootprintBoxes(\n  ctx: CanvasRenderingContext2D,\n  rows: any[],\n  pocIdx: number,\n  enableProfile: boolean,\n  leftX: number,\n  rightX: number,\n  scales: Scales,\n  theme: any\n): { minRow: number, maxRow: number, totBuy: number, totSell: number } {\n  const sideMax = Math.max(...rows.map(f => Math.max(f.buy, f.sell)), 1);\n  const buyBase = theme.volumeBuyBase ?? 0.15;\n  const sellBase = theme.volumeSellBase ?? 0.15;\n  const { buyRGBA, sellRGBA } = createVolumeColorMappers(sideMax, buyBase, sellBase);\n\n  let minRow = Infinity, maxRow = -Infinity;\n  let totBuy = 0, totSell = 0;\n\n  for (let r = 0; r < rows.length; r++) {\n    const f = rows[r];\n    const row = scales.priceToRowIndex(f.price);\n    const yTop = scales.rowToY(row - 0.5);\n    const yBot = scales.rowToY(row + 0.5);\n    const h = Math.max(1, yBot - yTop);\n    minRow = Math.min(minRow, row - 0.5);\n    maxRow = Math.max(maxRow, row + 0.5);\n    totBuy += f.buy;\n    totSell += f.sell;\n\n    const isPOC = enableProfile && (r === pocIdx);\n    ctx.fillStyle = isPOC ? (theme.pocColor || '#808080') : sellRGBA(f.sell);\n    ctx.fillRect(leftX, yTop, scales.scaledBox(), h);\n    ctx.fillStyle = isPOC ? (theme.pocColor || '#808080') : buyRGBA(f.buy);\n    ctx.fillRect(rightX, yTop, scales.scaledBox(), h);\n  }\n\n  return { minRow, maxRow, totBuy, totSell };\n}\n\n/**\n * Draws imbalance markers for levels where buy or sell volume significantly exceeds adjacent levels.\n */\nexport function drawImbalanceMarkers(\n  ctx: CanvasRenderingContext2D,\n  rows: any[],\n  leftX: number,\n  rightX: number,\n  scales: Scales,\n  theme: any\n): void {\n  for (let r = 0; r < rows.length; r++) {\n    const f = rows[r];\n    const prev = rows[r - 1];\n    const next = rows[r + 1];\n    const row = scales.priceToRowIndex(f.price);\n    const yTop = scales.rowToY(row - 0.5);\n    const yBot = scales.rowToY(row + 0.5);\n    const h = Math.max(1, yBot - yTop);\n    if (prev && f.sell >= 3 * Math.max(1, prev.buy)) {\n      ctx.fillStyle = theme.imbalanceSell || '#dc2626';\n      ctx.fillRect(leftX - scales.scaledImb() - 1, yTop, scales.scaledImb(), h);\n    }\n    if (next && f.buy >= 3 * Math.max(1, next.sell)) {\n      ctx.fillStyle = theme.imbalanceBuy || '#16a34a';\n      ctx.fillRect(rightX + scales.scaledBox() + 1, yTop, scales.scaledImb(), h);\n    }\n  }\n}\n\n/**\n * Draws volume numbers inside the footprint boxes.\n */\nexport function drawVolumeNumbers(\n  ctx: CanvasRenderingContext2D,\n  rows: any[],\n  pocIdx: number,\n  enableProfile: boolean,\n  leftX: number,\n  rightX: number,\n  scales: Scales,\n  theme: any,\n  zoomX: number\n): void {\n  const fontSize = Math.max(8, Math.min(16, 11 * zoomX));\n  ctx.font = `${fontSize}px system-ui`;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  for (let r = 0; r < rows.length; r++) {\n    const f = rows[r];\n    const row = scales.priceToRowIndex(f.price);\n    const y = scales.rowToY(row);\n    const isPOC = enableProfile && (r === pocIdx);\n    ctx.fillStyle = isPOC ? (theme.pocTextColor || theme.textColorBright || '#ffffff') : (theme.textColorBright || '#ddd');\n    ctx.fillText(scales.formatK(f.sell), leftX + scales.scaledBox() / 2, y);\n    ctx.fillText(scales.formatK(f.buy), rightX + scales.scaledBox() / 2, y);\n  }\n}\n\n/**\n * Draws the Value Area High (VAH) and Value Area Low (VAL) boundary lines and labels.\n */\nexport function drawValueAreaBoundaries(\n  ctx: CanvasRenderingContext2D,\n  cx: number,\n  half: number,\n  VAH: number,\n  VAL: number,\n  leftX: number,\n  rightX: number,\n  scales: Scales,\n  theme: any,\n  zoomX: number\n): void {\n  const rVah = scales.priceToRowIndex(VAH), rVal = scales.priceToRowIndex(VAL);\n  const yVah = scales.rowToY(rVah - 0.5);\n  const yVal = scales.rowToY(rVal + 0.5);\n  const rightEdge = rightX + scales.scaledBox();\n\n  ctx.save();\n  ctx.setLineDash([4, 2]);\n  ctx.strokeStyle = theme.vahValColor || '#9ca3af';\n  ctx.beginPath();\n  ctx.moveTo(leftX, yVah);\n  ctx.lineTo(rightEdge, yVah);\n  ctx.stroke();\n  ctx.beginPath();\n  ctx.moveTo(leftX, yVal);\n  ctx.lineTo(rightEdge, yVal);\n  ctx.stroke();\n  ctx.setLineDash([]);\n\n  const vahFontSize = Math.max(6, Math.min(12, 8 * zoomX));\n  ctx.fillStyle = theme.vahValLabelColor || '#cfd3d6';\n  ctx.font = `${vahFontSize}px monospace`;\n  ctx.textAlign = 'left';\n  ctx.textBaseline = 'middle';\n  const labelX = cx - half - scales.scaledBox() + 3;\n  ctx.fillText('VAH', labelX, yVah);\n  ctx.fillText('VAL', labelX, yVal);\n  ctx.restore();\n}\n\n/**\n * Draws the delta (buy - sell) and total volume labels below the footprint.\n */\nexport function drawDeltaTotalLabels(\n  ctx: CanvasRenderingContext2D,\n  cx: number,\n  maxRow: number,\n  totBuy: number,\n  totSell: number,\n  totalVol: number,\n  scales: Scales,\n  theme: any,\n  zoomX: number\n): void {\n  const yLowFootprint = scales.rowToY(maxRow) + 2;\n  const delta = totBuy - totSell;\n  const deltaFontSize = Math.max(8, Math.min(18, 12 * zoomX));\n  ctx.textAlign = 'center';\n  ctx.font = `${deltaFontSize}px system-ui`;\n  ctx.fillStyle = delta >= 0 ? (theme.deltaPositive || '#16a34a') : (theme.deltaNegative || '#dc2626');\n  ctx.fillText(`Delta ${scales.formatK(delta)}`, cx, yLowFootprint + 14);\n  ctx.fillStyle = theme.totalColor || '#fff';\n  ctx.fillText(`Total ${scales.formatK(totalVol)}`, cx, yLowFootprint + 32);\n}\n\n/**\n * Draws the traditional candlestick wick (high/low line) and body (open/close rectangle).\n */\nexport function drawCandleWickAndBody(\n  ctx: CanvasRenderingContext2D,\n  cx: number,\n  half: number,\n  candle: CandleData,\n  scales: Scales,\n  theme: any\n): void {\n  const yHigh = scales.priceToY(candle.high);\n  const yLow = scales.priceToY(candle.low);\n  const yOpen = scales.priceToY(candle.open);\n  const yClose = scales.priceToY(candle.close);\n  const bull = candle.close >= candle.open;\n  const color = bull ? (theme.candleBull || '#26a69a') : (theme.candleBear || '#ef5350');\n  ctx.strokeStyle = color;\n  ctx.beginPath();\n  ctx.moveTo(cx, yHigh);\n  ctx.lineTo(cx, yLow);\n  ctx.stroke();\n  ctx.fillStyle = color;\n  ctx.fillRect(cx - half, Math.min(yOpen, yClose), scales.scaledCandle(), Math.abs(yClose - yOpen));\n}\n\n/**\n * Main footprint drawing function that orchestrates all footprint-related rendering.\n */\nexport function drawFootprint(\n  ctx: CanvasRenderingContext2D,\n  candle: CandleData,\n  i: number,\n  startIndex: number,\n  scales: Scales,\n  theme: any,\n  view: any,\n  showVolumeFootprint: boolean\n): void {\n  const cx = scales.indexToX(i, startIndex);\n  const half = scales.scaledCandle() / 2;\n\n  if (showVolumeFootprint) {\n    const rows = candle.footprint.slice().sort((a, b) => b.price - a.price);\n    const enableProfile = rows.length > 3;\n\n    const { pocIdx, vahIdx, valIdx, VAH, VAL, totalVol } = computeVolumeArea(rows);\n\n    const leftX = cx - half - scales.scaledBox();\n    const rightX = cx + half;\n\n    // Draw footprint boxes and calculate totals\n    const { minRow, maxRow, totBuy, totSell } = drawFootprintBoxes(ctx, rows, pocIdx, enableProfile, leftX, rightX, scales, theme);\n\n    // Draw imbalance markers\n    drawImbalanceMarkers(ctx, rows, leftX, rightX, scales, theme);\n\n    // Draw volume numbers\n    if (scales.shouldShowCellText()) {\n      drawVolumeNumbers(ctx, rows, pocIdx, enableProfile, leftX, rightX, scales, theme, view.zoomX);\n    }\n\n    // Draw VAH/VAL boundaries and labels\n    if (enableProfile && scales.shouldShowCellText()) {\n      drawValueAreaBoundaries(ctx, cx, half, VAH, VAL, leftX, rightX, scales, theme, view.zoomX);\n    }\n\n    // Draw delta and total volume labels\n    if (scales.shouldShowCellText()) {\n      drawDeltaTotalLabels(ctx, cx, maxRow, totBuy, totSell, totalVol, scales, theme, view.zoomX);\n    }\n  }\n\n  // Draw candle wick and body\n  drawCandleWickAndBody(ctx, cx, half, candle, scales, theme);\n}","/**\n * Scale and axis drawing functions for the Volume Footprint Chart.\n * Handles rendering of price bars, timeline, and related scale elements.\n */\n\nimport { Scales } from '../scales';\n\n/**\n * Draws the price bar on the right side and price labels.\n */\nexport function drawPriceBar(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  height: number,\n  margin: any,\n  scales: Scales,\n  theme: any\n): void {\n  const right = width - margin.right;\n  ctx.fillStyle = theme.scaleBackground || '#111';\n  ctx.fillRect(right, 0, margin.right, height);\n  ctx.strokeStyle = theme.scaleBorder || '#444';\n  ctx.strokeRect(right + 0.5, margin.top, 0.5, height - margin.top - margin.bottom);\n\n  // Price labels\n  ctx.fillStyle = theme.textColor || '#aaa';\n  ctx.font = '12px system-ui';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  const labels = scales.computePriceBarLabels();\n  for (const { price, y } of labels) {\n    ctx.fillText(scales.formatK(price), right + margin.right / 2, y);\n  }\n}\n\n/**\n * Draws the timeline at the bottom with time labels.\n */\nexport function drawTimeline(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  height: number,\n  margin: any,\n  scales: Scales,\n  data: any[],\n  theme: any\n): void {\n  const bottomY = margin.top + (height - margin.top - margin.bottom);\n  const chartW = width - margin.left - margin.right;\n  ctx.fillStyle = theme.scaleBackground || '#111';\n  ctx.fillRect(margin.left, bottomY, chartW, margin.bottom);\n  ctx.strokeStyle = theme.scaleBorder || '#444';\n  ctx.beginPath();\n  ctx.moveTo(margin.left, bottomY + 0.5);\n  ctx.lineTo(margin.left + chartW, bottomY + 0.5);\n  ctx.stroke();\n\n  // Timeline labels - extended to show future times\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(margin.left, bottomY, chartW, margin.bottom);\n  ctx.clip();\n  ctx.fillStyle = theme.textColor || '#aaa';\n  ctx.font = '12px system-ui';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  const step = Math.max(1, Math.floor(120 / scales.scaledSpacing()));\n  const vr = scales.getVisibleRange();\n  // Extend timeline to show future times beyond current data\n  const extendedStart = Math.max(0, vr.startIndex - 10);\n  const extendedEnd = vr.endIndex + 30; // Show 30 future time slots\n  for (let i = extendedStart; i < extendedEnd; i += step) {\n    const x = scales.indexToX(i, vr.startIndex);\n    let date: Date;\n    if (i < data.length && data[i]) {\n      date = new Date(data[i].time);\n    } else {\n      // Extrapolate future times based on data intervals\n      if (data.length > 1) {\n        const lastTime = new Date(data[data.length - 1].time).getTime();\n        const prevTime = new Date(data[data.length - 2].time).getTime();\n        const interval = lastTime - prevTime; // Time between last two data points\n        date = new Date(lastTime + (i - data.length + 1) * interval);\n      } else {\n        // Fallback: assume 1 minute intervals\n        const lastTime = data.length > 0 ?\n          new Date(data[data.length - 1].time).getTime() :\n          Date.now();\n        date = new Date(lastTime + (i - Math.max(0, data.length - 1)) * 60000);\n      }\n    }\n    const hours = date.getHours().toString().padStart(2, '0');\n    const minutes = date.getMinutes().toString().padStart(2, '0');\n    const t = `${hours}:${minutes}`;\n    ctx.fillText(t, x, bottomY + margin.bottom / 2);\n  }\n  ctx.restore();\n}\n\n/**\n * Draws the complete scales (price bar and timeline).\n */\nexport function drawScales(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  height: number,\n  margin: any,\n  scales: Scales,\n  data: any[],\n  theme: any\n): void {\n  drawPriceBar(ctx, width, height, margin, scales, theme);\n  drawTimeline(ctx, width, height, margin, scales, data, theme);\n}","/**\n * Grid and bounds drawing functions for the Volume Footprint Chart.\n * Handles background grid lines and chart boundary visualization.\n */\n\nimport { Scales } from '../scales';\n\n/**\n * Draws the background grid lines.\n */\nexport function drawGrid(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  margin: any,\n  scales: Scales,\n  theme: any\n): void {\n  const chartRight = width - margin.right;\n  ctx.strokeStyle = theme.gridColor || '#333';\n  ctx.lineWidth = 1;\n  const gridSpacing = 28;\n  const numLines = Math.floor(scales.chartHeight() / gridSpacing);\n  ctx.beginPath();\n  for (let i = 0; i <= numLines; i++) {\n    const y = margin.top + i * gridSpacing;\n    ctx.moveTo(margin.left, y);\n    ctx.lineTo(chartRight, y);\n  }\n  ctx.stroke();\n\n  const vr = scales.getVisibleRange();\n  ctx.beginPath();\n  for (let i = vr.startIndex; i < vr.endIndex; i++) {\n    const x = scales.indexToX(i, vr.startIndex) + scales.scaledSpacing() / 2;\n    ctx.moveTo(x, margin.top);\n    ctx.lineTo(x, margin.top + scales.chartHeight());\n  }\n  ctx.strokeStyle = theme.gridLightColor || '#252525';\n  ctx.stroke();\n}\n\n/**\n * Draws chart boundary outlines and gutters.\n */\nexport function drawBounds(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  height: number,\n  margin: any,\n  scales: Scales\n): void {\n  const chartW = width - margin.left - margin.right;\n  const chartH = scales.chartHeight();\n  const rightX = width - margin.right;\n  const bottomY = margin.top + chartH;\n\n  ctx.save();\n  // shade outside chart area slightly so user sees gutters\n  ctx.fillStyle = 'rgba(255, 255, 0, 0.05)';\n  // top gutter\n  ctx.fillRect(0, 0, width, margin.top);\n  // left gutter\n  ctx.fillRect(0, margin.top, margin.left, chartH);\n  // right price bar area (already visible)\n  // bottom timeline area (already visible)\n\n  // outline chart rect\n  ctx.setLineDash([6, 3]);\n  ctx.strokeStyle = '#f59e0b';\n  ctx.lineWidth = 1.5;\n  ctx.strokeRect(margin.left + 0.5, margin.top + 0.5, chartW, chartH);\n\n  // outline price bar and timeline for clarity\n  ctx.strokeStyle = '#22d3ee'; // cyan for scales\n  // price bar\n  ctx.strokeRect(rightX + 0.5, 0.5, margin.right - 1, height - 1);\n  // timeline\n  ctx.strokeRect(margin.left + 0.5, bottomY + 0.5, chartW, margin.bottom - 1);\n  ctx.setLineDash([]);\n  ctx.restore();\n}","/**\n * Crosshair and price label drawing functions for the Volume Footprint Chart.\n * Handles cursor tracking and current price display.\n */\n\nimport { Scales } from '../scales';\n\n/**\n * Draws the crosshair lines and labels at the current mouse position.\n */\nexport function drawCrosshair(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  height: number,\n  margin: any,\n  crosshair: { x: number; y: number; visible: boolean },\n  scales: Scales,\n  data: any[],\n  theme: any\n): void {\n  if (!crosshair.visible) return;\n\n  const chartRight = width - margin.right;\n  const yBottom = margin.top + (height - margin.top - margin.bottom);\n\n  ctx.save();\n\n  // Draw vertical line\n  ctx.strokeStyle = theme.textColor || '#aaa';\n  ctx.lineWidth = 1;\n  ctx.setLineDash([2, 2]);\n  ctx.beginPath();\n  ctx.moveTo(crosshair.x, margin.top);\n  ctx.lineTo(crosshair.x, yBottom);\n  ctx.stroke();\n\n  // Draw horizontal line\n  ctx.beginPath();\n  ctx.moveTo(margin.left, crosshair.y);\n  ctx.lineTo(chartRight, crosshair.y);\n  ctx.stroke();\n\n  // Draw price label on right side\n  const price = scales.rowIndexToPrice(\n    (crosshair.y - margin.top) / scales.rowHeightPx()\n  );\n  ctx.setLineDash([]);\n  ctx.fillStyle = theme.scaleBackground || '#111';\n  ctx.fillRect(chartRight, crosshair.y - 8, margin.right, 16);\n  ctx.strokeStyle = theme.scaleBorder || '#444';\n  ctx.strokeRect(chartRight, crosshair.y - 8, margin.right, 16);\n  ctx.fillStyle = theme.textColor || '#aaa';\n  ctx.font = 'bold 12px system-ui';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(scales.formatK(price), chartRight + margin.right / 2, crosshair.y);\n\n  // Draw time label on bottom\n  const index = scales.screenXToDataIndex(crosshair.x);\n  let timeStr = '--:--';\n  if (index >= 0 && index < data.length && data[index]) {\n    const date = new Date(data[index].time);\n    const hours = date.getHours().toString().padStart(2, '0');\n    const minutes = date.getMinutes().toString().padStart(2, '0');\n    timeStr = `${hours}:${minutes}`;\n  }\n\n  ctx.fillStyle = theme.scaleBackground || '#111';\n  ctx.fillRect(crosshair.x - 20, yBottom, 40, margin.bottom);\n  ctx.strokeStyle = theme.scaleBorder || '#444';\n  ctx.strokeRect(crosshair.x - 20, yBottom, 40, margin.bottom);\n  ctx.fillStyle = theme.textColor || '#aaa';\n  ctx.font = '11px system-ui';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(timeStr, crosshair.x, yBottom + margin.bottom / 2);\n\n  ctx.restore();\n}\n\n/**\n * Draws the current price label with a dashed line across the chart.\n */\nexport function drawCurrentPriceLabel(\n  ctx: CanvasRenderingContext2D,\n  width: number,\n  lastPrice: number | null,\n  margin: any,\n  scales: Scales,\n  theme: any\n): void {\n  if (!lastPrice) return;\n\n  const right = width - margin.right;\n  const y = scales.priceToY(lastPrice);\n\n  ctx.save();\n\n  // Draw dashed line across the chart at the last price level\n  ctx.setLineDash([5, 5]);\n  ctx.strokeStyle = theme.textColor || '#aaa';\n  ctx.lineWidth = 1;\n  ctx.beginPath();\n  ctx.moveTo(margin.left, y);\n  ctx.lineTo(right, y);\n  ctx.stroke();\n  ctx.setLineDash([]);\n\n  // Draw price label on the price bar (right side scale area)\n  const labelText = scales.formatK(lastPrice);\n  ctx.font = 'bold 12px system-ui';\n  const textWidth = ctx.measureText(labelText).width;\n  const boxWidth = textWidth + 8;\n  const boxHeight = 18;\n\n  // Position the label in the price bar area\n  const boxX = right + 2;\n  const boxY = y - boxHeight / 2;\n\n  // Draw background\n  ctx.fillStyle = '#26a69a';  // Green background like in the image\n  ctx.fillRect(boxX, boxY, boxWidth, boxHeight);\n\n  // Draw border\n  ctx.strokeStyle = '#ffffff';\n  ctx.lineWidth = 1;\n  ctx.strokeRect(boxX, boxY, boxWidth, boxHeight);\n\n  // Draw price text\n  ctx.fillStyle = '#ffffff';  // White text\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(labelText, boxX + boxWidth / 2, boxY + boxHeight / 2);\n\n  ctx.restore();\n}","/**\n * Measurement tool drawing functions for the Volume Footprint Chart.\n * Handles drawing of measurement rectangles and associated data labels.\n */\n\nimport { MeasureRectangle } from '../types';\nimport { Scales } from '../scales';\n\n/**\n * Draws the measurement rectangle and associated data labels.\n */\nexport function drawMeasureRectangle(\n  ctx: CanvasRenderingContext2D,\n  measureRectangle: MeasureRectangle | null,\n  scales: Scales,\n  theme: any\n): void {\n  if (!measureRectangle) return;\n\n  ctx.save();\n\n  // Use screen coordinates directly\n  const startX = measureRectangle.startX;\n  const startY = measureRectangle.startY;\n  const endX = measureRectangle.endX;\n  const endY = measureRectangle.endY;\n\n  // Calculate rectangle bounds\n  const rectX = Math.min(startX, endX);\n  const rectY = Math.min(startY, endY);\n  const rectWidth = Math.abs(endX - startX);\n  const rectHeight = Math.abs(endY - startY);\n\n  // Calculate price and time differences using current screen positions\n  const startPrice = scales.screenYToPrice(startY);\n  const endPrice = scales.screenYToPrice(endY);\n  const startIndex = scales.screenXToDataIndex(startX);\n  const endIndex = scales.screenXToDataIndex(endX);\n\n  const priceDiff = endPrice - startPrice;\n  const timeDiff = endIndex - startIndex;\n  const isPositive = priceDiff >= 0;\n\n  // Draw light green/red rectangle\n  const rectColor = isPositive ? 'rgba(22, 163, 74, 0.2)' : 'rgba(220, 38, 38, 0.2)'; // Light green/red\n  ctx.fillStyle = rectColor;\n  ctx.fillRect(rectX, rectY, rectWidth, rectHeight);\n\n  // Draw rectangle border\n  const borderColor = isPositive ? 'rgba(22, 163, 74, 0.8)' : 'rgba(220, 38, 38, 0.8)';\n  ctx.strokeStyle = borderColor;\n  ctx.lineWidth = 1;\n  ctx.strokeRect(rectX, rectY, rectWidth, rectHeight);\n\n  // Draw measure data box below the rectangle with all details\n  const centerX = rectX + rectWidth / 2;\n\n  // Calculate percentage change\n  const percentChange = startPrice !== 0 ? (priceDiff / startPrice) * 100 : 0;\n\n  // Prepare all text lines\n  const priceSign = priceDiff >= 0 ? '+' : '';\n  const priceText = `${priceSign}${priceDiff.toFixed(2)} (${percentChange >= 0 ? '+' : ''}${percentChange.toFixed(2)}%)`;\n  const startPriceText = `Start: ${startPrice.toFixed(2)}`;\n  const endPriceText = `End: ${endPrice.toFixed(2)}`;\n  const timeSign = timeDiff >= 0 ? '+' : '';\n  const timeText = `ΔT: ${timeSign}${timeDiff} bars`;\n\n  const lines = [priceText, startPriceText, endPriceText, timeText];\n\n  // Bigger font\n  ctx.font = '14px system-ui';\n  const lineHeight = 18;\n  const padding = 8;\n  const maxWidth = Math.max(...lines.map(line => ctx.measureText(line).width));\n  const boxWidth = maxWidth + padding * 2;\n  const boxHeight = lines.length * lineHeight + padding * 2;\n  const boxX = centerX - boxWidth / 2;\n  const boxY = rectY + rectHeight + 8;\n\n  // Box colors\n  const boxColor = isPositive ? '#16a34a' : '#dc2626'; // Green for positive, red for negative\n  const textColor = '#ffffff';\n\n  // Draw box background\n  ctx.fillStyle = boxColor;\n  ctx.fillRect(boxX, boxY, boxWidth, boxHeight);\n\n  // Draw box border\n  ctx.strokeStyle = textColor;\n  ctx.lineWidth = 1;\n  ctx.strokeRect(boxX, boxY, boxWidth, boxHeight);\n\n  // Draw text lines\n  ctx.fillStyle = textColor;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'top';\n  lines.forEach((line, index) => {\n    const y = boxY + padding + index * lineHeight;\n    ctx.fillText(line, centerX, y);\n  });\n\n  ctx.restore();\n}","import { CandleData, VFCTheme, MeasureRectangle } from './types';\nimport { Scales } from './scales';\nimport { drawFootprint } from './drawing/footprint';\nimport { drawScales } from './drawing/scales';\nimport { drawGrid, drawBounds } from './drawing/grid';\nimport { drawCrosshair, drawCurrentPriceLabel } from './drawing/crosshair';\nimport { drawMeasureRectangle } from './drawing/measure';\n\n/**\n * Handles all rendering operations for the Volume Footprint Chart.\n * Responsible for drawing grid, chart elements, scales, crosshair, and measurements.\n */\n\nexport class Drawing {\n  private ctx: CanvasRenderingContext2D;\n  private data: CandleData[];\n  private margin: { top: number; bottom: number; left: number; right: number };\n  private view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number };\n  private showGrid: boolean;\n  private showBounds: boolean;\n  private showVolumeFootprint: boolean;\n  private scales: Scales;\n  private theme: VFCTheme;\n  private crosshair: { x: number; y: number; visible: boolean };\n  private lastPrice: number | null;\n  private interactions: any; // Reference to Interactions class to get dynamic measure rectangle\n\n  constructor(\n    ctx: CanvasRenderingContext2D,\n    data: CandleData[],\n    margin: { top: number; bottom: number; left: number; right: number },\n    view: { zoomY: number; zoomX: number; offsetRows: number; offsetX: number },\n    showGrid: boolean,\n    showBounds: boolean,\n    showVolumeFootprint: boolean,\n    scales: Scales,\n    theme: VFCTheme,\n    crosshair: { x: number; y: number; visible: boolean },\n    lastPrice: number | null,\n    interactions: any\n  ) {\n    this.ctx = ctx;\n    this.data = data;\n    this.margin = margin;\n    this.view = view;\n    this.showGrid = showGrid;\n    this.showBounds = showBounds;\n    this.showVolumeFootprint = showVolumeFootprint;\n    this.scales = scales;\n    this.theme = theme;\n    this.crosshair = crosshair;\n    this.lastPrice = lastPrice;\n    this.interactions = interactions;\n  }\n\n  drawAll(): void {\n    const width = this.ctx.canvas.width / window.devicePixelRatio;\n    const height = this.ctx.canvas.height / window.devicePixelRatio;\n    this.ctx.clearRect(0, 0, width, height);\n    if (this.showGrid) drawGrid(this.ctx, width, this.margin, this.scales, this.theme);\n    this.drawChart();\n    drawMeasureRectangle(this.ctx, this.interactions.getMeasureRectangle(), this.scales, this.theme);\n    drawScales(this.ctx, width, height, this.margin, this.scales, this.data, this.theme);\n    drawCurrentPriceLabel(this.ctx, width, this.lastPrice, this.margin, this.scales, this.theme);\n    if (this.crosshair.visible) drawCrosshair(this.ctx, width, height, this.margin, this.crosshair, this.scales, this.data, this.theme);\n    if (this.showBounds) drawBounds(this.ctx, width, height, this.margin, this.scales);\n  }\n\n  private drawChart(): void {\n    this.ctx.save();\n    const width = this.ctx.canvas.width / window.devicePixelRatio;\n    this.ctx.beginPath();\n    this.ctx.rect(\n      this.margin.left,\n      this.margin.top,\n      width - this.margin.left - this.margin.right,\n      this.scales.chartHeight()\n    );\n    this.ctx.clip();\n\n    const vr = this.scales.getVisibleRange();\n    for (let i = vr.startIndex; i < vr.endIndex; i++) {\n      drawFootprint(this.ctx, this.data[i], i, vr.startIndex, this.scales, this.theme, this.view, this.showVolumeFootprint);\n    }\n    this.ctx.restore();\n  }\n}","/**\n * Main chart implementation for the Volume Footprint Chart.\n * Provides the primary API for creating and managing chart instances with modular components.\n */\n\nimport { CandleData, VFCOptions, VFCEvents } from './types';\nimport { Scales } from './scales';\nimport { Interactions } from './interactions';\nimport { Drawing } from './drawing';\n\nexport class Chart {\n    private canvas!: HTMLCanvasElement;\n    private ctx!: CanvasRenderingContext2D;\n    private data: CandleData[] = [];\n    private options!: Required<VFCOptions>;\n   private events: VFCEvents = {};\n\n   // Chart state\n   private margin = { top: 0, bottom: 40, left: 0, right: 70 };\n   private view = { zoomY: 1, zoomX: 1, offsetRows: 0, offsetX: 0, offsetY: 0 };\n   private showGrid = true;\n   private showBounds = false;\n   private showVolumeFootprint = true;\n   private crosshair = { x: -1, y: -1, visible: false };\n   private lastPrice: number | null = null;\n\n   // Toolbar button references\n   private resetZoomBtn: HTMLButtonElement | null = null;\n   private toggleGridBtn: HTMLButtonElement | null = null;\n   private toggleVolumeFootprintBtn: HTMLButtonElement | null = null;\n   private measureBtn: HTMLButtonElement | null = null;\n\n   // Constants\n   private readonly TICK = 10;\n   private readonly BASE_CANDLE = 15;\n   private readonly BASE_BOX = 55;\n   private readonly BASE_IMBALANCE = 2;\n   private readonly BASE_SPACING = this.BASE_CANDLE + 2 * this.BASE_BOX + 2 * this.BASE_IMBALANCE;\n   private readonly FIXED_GAP = 4;\n   private readonly baseRowPx = 22;\n   private readonly TEXT_VIS = { minZoomX: 0.5, minRowPx: 10, minBoxPx: 20 };\n\n   // Modules\n   private scales!: Scales;\n   private interactions!: Interactions;\n   private drawing!: Drawing;\n\n  private createChartStructure(container: HTMLElement): void {\n    // Check if toolbars already exist\n    if (container.querySelector('.vfc-toolbar')) {\n      return; // Toolbars already exist, don't recreate\n    }\n\n    // Create the complete chart structure\n    container.classList.add('vfc-container');\n\n    // Create top toolbar\n    const topToolbar = document.createElement('div');\n    topToolbar.className = 'vfc-toolbar';\n\n    const resetZoomBtn = document.createElement('button');\n    resetZoomBtn.id = 'resetZoom';\n    resetZoomBtn.className = 'tool-btn';\n    resetZoomBtn.textContent = 'Reset';\n    topToolbar.appendChild(resetZoomBtn);\n\n    const toggleGridBtn = document.createElement('button');\n    toggleGridBtn.id = 'toggleGrid';\n    toggleGridBtn.className = 'tool-btn';\n    toggleGridBtn.textContent = 'Grid On/Off';\n    topToolbar.appendChild(toggleGridBtn);\n\n\n    const toggleVolumeFootprintBtn = document.createElement('button');\n    toggleVolumeFootprintBtn.id = 'toggleVolumeFootprint';\n    toggleVolumeFootprintBtn.className = 'tool-btn';\n    toggleVolumeFootprintBtn.textContent = 'Volume On/Off';\n    topToolbar.appendChild(toggleVolumeFootprintBtn);\n\n    const measureBtn = document.createElement('button');\n    measureBtn.id = 'measure';\n    measureBtn.className = 'tool-btn';\n    measureBtn.title = 'Measure Tool';\n    measureBtn.textContent = '📐 Measure';\n    topToolbar.appendChild(measureBtn);\n\n    const hint = document.createElement('span');\n    hint.className = 'hint';\n    hint.textContent = 'Volume Footprint Chart';\n    topToolbar.appendChild(hint);\n\n    container.appendChild(topToolbar);\n\n    // Create chart container\n    const chartContainer = document.createElement('div');\n    chartContainer.className = 'vfc-chart-container';\n    container.appendChild(chartContainer);\n\n    // Set up event handlers\n    this.setupToolbarEventHandlers(container);\n  }\n\n  private setupToolbarEventHandlers(container: HTMLElement): void {\n    const resetZoomBtn = container.querySelector('#resetZoom') as HTMLButtonElement;\n    const toggleGridBtn = container.querySelector('#toggleGrid') as HTMLButtonElement;\n    const toggleVolumeFootprintBtn = container.querySelector('#toggleVolumeFootprint') as HTMLButtonElement;\n    const measureBtn = container.querySelector('#measure') as HTMLButtonElement;\n\n    // Store references for later use\n    this.resetZoomBtn = resetZoomBtn;\n    this.toggleGridBtn = toggleGridBtn;\n    this.toggleVolumeFootprintBtn = toggleVolumeFootprintBtn;\n    this.measureBtn = measureBtn;\n  }\n\n  /**\n   * Initializes the canvas element and context.\n   * @param container The container element\n   * @param chartContainer The chart container element\n   */\n  private initializeCanvas(container: HTMLElement, chartContainer: HTMLElement): void {\n    // Use existing canvas if available, otherwise create one\n    this.canvas = container.querySelector('canvas') as HTMLCanvasElement;\n    if (!this.canvas) {\n      this.canvas = document.createElement('canvas');\n      if (chartContainer) {\n        chartContainer.appendChild(this.canvas);\n      } else {\n        // Fallback: append directly to container if chart container not found\n        container.appendChild(this.canvas);\n      }\n    }\n\n    const ctx = this.canvas.getContext('2d');\n    if (!ctx) throw new Error('Canvas 2D context not available');\n    this.ctx = ctx;\n  }\n\n  /**\n   * Initializes chart options with defaults and user-provided values.\n   * @param options User-provided options\n   * @param container The container element\n   * @param chartContainer The chart container element\n   */\n  private initializeOptions(options: VFCOptions, container: HTMLElement, chartContainer: HTMLElement): void {\n    this.options = {\n      width: options.width || container.clientWidth || 800,\n      height: options.height || (chartContainer ? chartContainer.clientHeight : container.clientHeight) || 600,\n      showGrid: options.showGrid ?? true,\n      showBounds: options.showBounds ?? false,\n      showVolumeFootprint: options.showVolumeFootprint ?? true,\n      tickSize: options.tickSize || 10,\n      initialZoomX: options.initialZoomX || 0.55,\n      initialZoomY: options.initialZoomY || 0.55,\n      margin: options.margin || this.margin,\n      theme: options.theme || {}\n    };\n\n    this.margin = this.options.margin;\n    this.showGrid = this.options.showGrid;\n    this.showBounds = this.options.showBounds;\n    this.showVolumeFootprint = this.options.showVolumeFootprint;\n    this.view.zoomX = this.options.initialZoomX;\n    this.view.zoomY = this.options.initialZoomY;\n  }\n\n  /**\n   * Initializes the chart modules (Scales, Interactions, Drawing).\n   */\n  private initializeModules(): void {\n    this.scales = new Scales(\n      this.data,\n      this.margin,\n      this.view,\n      this.options.width,\n      this.options.height,\n      this.showVolumeFootprint,\n      this.TICK,\n      this.baseRowPx,\n      this.TEXT_VIS\n    );\n\n    this.interactions = new Interactions(\n      this.canvas,\n      this.margin,\n      this.view,\n      {\n        ...this.events,\n        onPan: () => this.drawing.drawAll(),\n        onZoom: () => this.drawing.drawAll(),\n        onMouseMove: () => this.drawing.drawAll()\n      },\n      this.crosshair,\n      this.scales\n    );\n\n    this.drawing = new Drawing(\n      this.ctx,\n      this.data,\n      this.margin,\n      this.view,\n      this.showGrid,\n      this.showBounds,\n      this.showVolumeFootprint,\n      this.scales,\n      this.options.theme,\n      this.crosshair,\n      this.lastPrice,\n      this.interactions\n    );\n  }\n\n  constructor(container: HTMLElement, options: VFCOptions = {}, events: VFCEvents = {}) {\n    // Create the complete chart structure with toolbars\n    this.createChartStructure(container);\n\n    // Get the chart container for accurate dimensions\n    const chartContainer = container.querySelector('.vfc-chart-container') as HTMLElement;\n\n    // Initialize canvas\n    this.initializeCanvas(container, chartContainer);\n\n    // Initialize options\n    this.initializeOptions(options, container, chartContainer);\n\n    // Set events\n    this.events = events;\n\n    // Initialize modules\n    this.initializeModules();\n\n    // Set up canvas and event handlers\n    this.setupCanvas();\n    this.bindEvents();\n    this.bindToolbarEvents();\n    this.layout();\n  }\n\n  private setupCanvas() {\n    const DPR = Math.max(1, Math.round(window.devicePixelRatio || 1));\n    this.canvas.style.width = this.options.width + 'px';\n    this.canvas.style.height = this.options.height + 'px';\n    this.canvas.width = Math.max(1, Math.floor(this.options.width * DPR));\n    this.canvas.height = Math.max(1, Math.floor(this.options.height * DPR));\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.scale(DPR, DPR);\n  }\n\n  private bindEvents() {\n    this.canvas.addEventListener('wheel', this.handleWheel.bind(this), { passive: false });\n    this.canvas.addEventListener('pointerdown', this.handlePointerDown.bind(this));\n    window.addEventListener('resize', this.layout.bind(this));\n  }\n\n  private bindToolbarEvents() {\n    if (this.resetZoomBtn) {\n      this.resetZoomBtn.addEventListener('click', () => {\n        // Reset view to show the end of the data, like initial load\n        if (this.data.length > 0) {\n          this.updateOptions({\n            width: this.options.width,\n            height: this.options.height\n          });\n          // After updating options, set view to show last candles\n          const s = this.scales.scaledSpacing();\n          const contentW = this.options.width - this.margin.left - this.margin.right;\n          const visibleCount = Math.ceil(contentW / s);\n          const startIndex = Math.max(0, this.data.length - visibleCount);\n          this.view.offsetX = startIndex * s;\n          // Center the last candle's close price vertically at canvas center\n          const lastPrice = this.lastPrice!;\n          const centerRow = (this.options.height / 2) / this.scales.rowHeightPx();\n          const priceRow = this.scales.priceToRowIndex(lastPrice); // with current offsetRows=0\n          this.view.offsetRows = centerRow - priceRow;\n          this.drawing.drawAll();\n        }\n      });\n    }\n\n    if (this.toggleGridBtn) {\n      this.toggleGridBtn.addEventListener('click', () => {\n        this.updateOptions({\n          showGrid: !this.options.showGrid\n        });\n      });\n    }\n\n    if (this.toggleVolumeFootprintBtn) {\n      this.toggleVolumeFootprintBtn.addEventListener('click', () => {\n        this.updateOptions({\n          showVolumeFootprint: !this.options.showVolumeFootprint\n        });\n      });\n    }\n\n    if (this.measureBtn) {\n      this.measureBtn.addEventListener('click', () => {\n        const isActive = this.interactions.getMeasureRectangle() !== null;\n        if (isActive) {\n          this.interactions.setMeasureMode(false);\n          this.measureBtn?.classList.remove('active');\n        } else {\n          this.interactions.setMeasureMode(true);\n          this.measureBtn?.classList.add('active');\n        }\n        this.drawing.drawAll();\n      });\n    }\n  }\n\n  private handleWheel(e: WheelEvent) {\n    this.interactions.handleWheel(e);\n    this.drawing.drawAll();\n  }\n\n  private handlePointerDown(e: PointerEvent) {\n    this.interactions.handlePointerDown(e);\n  }\n\n  private layout() {\n    const container = this.canvas.parentElement;\n    if (container) {\n      this.options.width = container.clientWidth || this.options.width;\n      this.options.height = container.clientHeight || this.options.height;\n    }\n\n    // Recreate scales and drawing with new dimensions\n    this.scales = new Scales(\n      this.data,\n      this.margin,\n      this.view,\n      this.options.width,\n      this.options.height,\n      this.showVolumeFootprint,\n      this.TICK,\n      this.baseRowPx,\n      this.TEXT_VIS\n    );\n\n    this.drawing = new Drawing(\n      this.ctx,\n      this.data,\n      this.margin,\n      this.view,\n      this.showGrid,\n      this.showBounds,\n      this.showVolumeFootprint,\n      this.scales,\n      this.options.theme,\n      this.crosshair,\n      this.lastPrice,\n      this.interactions\n    );\n\n    this.setupCanvas();\n    this.drawing.drawAll();\n  }\n\n  // Public API\n  public setData(data: CandleData[]) {\n    this.data = data;\n\n    // Calculate lastPrice first, before creating Drawing instance\n    if (data.length > 0) {\n        const lastPrice = data[data.length - 1].close;\n        this.lastPrice = lastPrice;\n    }\n\n    // Update scales with new data\n    this.scales = new Scales(\n      this.data,\n      this.margin,\n      this.view,\n      this.options.width,\n      this.options.height,\n      this.showVolumeFootprint,\n      this.TICK,\n      this.baseRowPx,\n      this.TEXT_VIS\n    );\n\n    this.drawing = new Drawing(\n      this.ctx,\n      this.data,\n      this.margin,\n      this.view,\n      this.showGrid,\n      this.showBounds,\n      this.showVolumeFootprint,\n      this.scales,\n      this.options.theme,\n      this.crosshair,\n      this.lastPrice,  // Now has the correct value\n      this.interactions\n    );\n\n    // Set initial view to show the end of the chart (latest data) and center the last price vertically\n    if (data.length > 0) {\n        const s = this.scales.scaledSpacing();\n        const contentW = this.options.width - this.margin.left - this.margin.right;\n        const visibleCount = Math.ceil(contentW / s);\n        const startIndex = Math.max(0, data.length - visibleCount);\n        this.view.offsetX = startIndex * s;\n        // Center the last candle's close price vertically at canvas center\n        const lastPrice = this.lastPrice!;\n        const centerRow = (this.options.height / 2) / this.scales.rowHeightPx();\n        const priceRow = this.scales.priceToRowIndex(lastPrice); // with current offsetRows=0\n        this.view.offsetRows = centerRow - priceRow;\n    }\n    this.drawing.drawAll();\n  }\n\n  public updateOptions(options: Partial<VFCOptions>) {\n    const oldShowVolumeFootprint = this.showVolumeFootprint;\n    Object.assign(this.options, options);\n    this.showGrid = this.options.showGrid;\n    this.showBounds = this.options.showBounds;\n    this.showVolumeFootprint = this.options.showVolumeFootprint;\n\n    // If showVolumeFootprint changed, adjust view offsetX to maintain visible range\n    if (oldShowVolumeFootprint !== this.showVolumeFootprint && this.data.length > 0) {\n      const oldSpacing = oldShowVolumeFootprint ? 132 * this.view.zoomX : 16 * this.view.zoomX;\n      const newSpacing = this.showVolumeFootprint ? 132 * this.view.zoomX : 16 * this.view.zoomX;\n      const startIndex = Math.floor(this.view.offsetX / oldSpacing);\n      this.view.offsetX = startIndex * newSpacing;\n    }\n\n    // Recreate Scales first, then Drawing\n    this.scales = new Scales(\n      this.data,\n      this.margin,\n      this.view,\n      this.options.width,\n      this.options.height,\n      this.showVolumeFootprint,\n      this.TICK,\n      this.baseRowPx,\n      this.TEXT_VIS\n    );\n\n    this.drawing = new Drawing(\n      this.ctx,\n      this.data,\n      this.margin,\n      this.view,\n      this.showGrid,\n      this.showBounds,\n      this.showVolumeFootprint,\n      this.scales,\n      this.options.theme,\n      this.crosshair,\n      this.lastPrice,\n      this.interactions\n    );\n\n    this.layout();\n  }\n\n  public resize(width: number, height: number) {\n    this.options.width = width;\n    this.options.height = height;\n    this.layout();\n  }\n\n  public destroy() {\n    if (this.canvas.parentElement) {\n      this.canvas.parentElement.removeChild(this.canvas);\n    }\n  }\n\n\n  // Getters for API access\n  public getOptions() { return this.options; }\n  public getShowGrid() { return this.showGrid; }\n}","import { ISeriesApi } from './iseries-api';\nimport { IPriceScaleApi } from './iprice-scale-api';\nimport { VolumeFootprintData, VolumeFootprintSeriesOptions } from './ichart-api';\nimport { IChartImplementation } from './ichart-api';\n\nexport class VolumeFootprintSeriesApi implements ISeriesApi<VolumeFootprintData> {\n  private chart: IChartImplementation;\n  private seriesOptions: VolumeFootprintSeriesOptions;\n\n  constructor(chart: IChartImplementation, options?: VolumeFootprintSeriesOptions) {\n    this.chart = chart;\n    this.seriesOptions = options || {};\n  }\n\n  setData(data: VolumeFootprintData[]): void {\n    // Convert data format and set on chart\n    const convertedData = data.map(d => ({\n      time: typeof d.time === 'number' ? new Date(d.time).toISOString() : d.time,\n      open: d.open,\n      high: d.high,\n      low: d.low,\n      close: d.close,\n      footprint: d.footprint || []\n    }));\n    this.chart.setData(convertedData);\n  }\n\n  update(data: VolumeFootprintData): void {\n    // Update latest data point\n    this.setData([data]);\n  }\n\n  data(): VolumeFootprintData[] {\n    // Return current data (would need to store this)\n    return [];\n  }\n\n  applyOptions(options: VolumeFootprintSeriesOptions): void {\n    this.seriesOptions = { ...this.seriesOptions, ...options };\n  }\n\n  options(): VolumeFootprintSeriesOptions {\n    return this.seriesOptions;\n  }\n\n  priceScale(): IPriceScaleApi {\n    return {\n      applyOptions: () => {},\n      options: () => ({}),\n      width: () => 40,\n      height: () => 0,\n      isEmpty: () => false,\n      priceToCoordinate: () => null,\n      coordinateToPrice: () => null\n    };\n  }\n\n  visible(): boolean {\n    return true;\n  }\n\n  setVisible(visible: boolean): void {\n    // Implement visibility toggle\n  }\n}","import { ITimeScaleApi, TimeScaleOptions, TimeScaleRange } from './itime-scale-api';\nimport { IChartImplementation } from './ichart-api';\n\nexport class TimeScaleApi implements ITimeScaleApi {\n  private chart: IChartImplementation;\n\n  constructor(chart: IChartImplementation) {\n    this.chart = chart;\n  }\n\n  applyOptions(options: TimeScaleOptions): void {\n    // Apply time scale options\n  }\n\n  options(): TimeScaleOptions {\n    return {\n      visible: true,\n      timeVisible: true,\n      barSpacing: 30\n    };\n  }\n\n  scrollToPosition(position: number, animated?: boolean): void {\n    // Scroll to position\n  }\n\n  scrollToRealTime(): void {\n    // Scroll to real time\n  }\n\n  getVisibleRange(): TimeScaleRange | null {\n    return null;\n  }\n\n  setVisibleRange(range: TimeScaleRange): void {\n    // Set visible range\n  }\n\n  resetTimeScale(): void {\n    // Reset time scale\n  }\n\n  fitContent(): void {\n    // Fit content\n  }\n\n  timeToCoordinate(time: string | number): number | null {\n    return null;\n  }\n\n  coordinateToTime(coordinate: number): string | number | null {\n    return null;\n  }\n}","import { IPriceScaleApi, PriceScaleOptions } from './iprice-scale-api';\nimport { IChartImplementation } from './ichart-api';\n\nexport class PriceScaleApi implements IPriceScaleApi {\n  private chart: IChartImplementation;\n\n  constructor(chart: IChartImplementation) {\n    this.chart = chart;\n  }\n\n  applyOptions(options: PriceScaleOptions): void {\n    // Apply price scale options\n  }\n\n  options(): PriceScaleOptions {\n    return {\n      visible: true,\n      autoScale: true\n    };\n  }\n\n  width(): number {\n    return 40;\n  }\n\n  height(): number {\n    return 0; // Would need to calculate actual height\n  }\n\n  isEmpty(): boolean {\n    return false;\n  }\n\n  priceToCoordinate(price: number): number | null {\n    return null; // Would need to implement coordinate conversion\n  }\n\n  coordinateToPrice(coordinate: number): number | null {\n    return null; // Would need to implement coordinate conversion\n  }\n}","import { IChartApi, IChartImplementation, ChartOptions, VolumeFootprintSeriesOptions, VolumeFootprintData } from './ichart-api';\nimport { ISeriesApi } from './iseries-api';\nimport { ITimeScaleApi } from './itime-scale-api';\nimport { IPriceScaleApi } from './iprice-scale-api';\nimport { Chart as VFC } from '../chart'; // Import the Chart implementation directly\nimport { VolumeFootprintSeriesApi } from './volume-footprint-series-api';\nimport { TimeScaleApi } from './time-scale-api';\nimport { PriceScaleApi } from './price-scale-api';\n\nexport class ChartApi implements IChartApi {\n  private chart: IChartImplementation;\n  private series: ISeriesApi[] = [];\n  private timeScaleApi: TimeScaleApi;\n  private priceScaleApi: PriceScaleApi;\n\n  constructor(container: HTMLElement, options: ChartOptions) {\n    // Convert options to VFC format\n    const vfcOptions = {\n      width: options.width,\n      height: options.height,\n      showGrid: options.grid?.horzLines?.visible ?? true,\n      showBounds: false,\n      tickSize: 10,\n      initialZoomX: 2, // Higher zoom to show footprints\n      initialZoomY: 1,\n      margin: { top: 0, bottom: 40, left: 0, right: 60 }\n    };\n\n    this.chart = new VFC(container, vfcOptions);\n    this.timeScaleApi = new TimeScaleApi(this.chart);\n    this.priceScaleApi = new PriceScaleApi(this.chart);\n  }\n\n  addVolumeFootprintSeries(options?: VolumeFootprintSeriesOptions): ISeriesApi<VolumeFootprintData> {\n    const seriesApi = new VolumeFootprintSeriesApi(this.chart, options);\n    this.series.push(seriesApi);\n    return seriesApi;\n  }\n\n  removeSeries(seriesApi: ISeriesApi<any>): void {\n    const index = this.series.indexOf(seriesApi);\n    if (index > -1) {\n      this.series.splice(index, 1);\n    }\n  }\n\n  timeScale(): ITimeScaleApi {\n    return this.timeScaleApi;\n  }\n\n  priceScale(): IPriceScaleApi {\n    return this.priceScaleApi;\n  }\n\n  applyOptions(options: ChartOptions): void {\n    // Convert and apply options\n    const vfcOptions = {\n      width: options.width,\n      height: options.height,\n      showGrid: options.grid?.horzLines?.visible ?? true\n    };\n    this.chart.updateOptions(vfcOptions);\n  }\n\n  options(): ChartOptions {\n    const opts = this.chart.getOptions();\n    return {\n      width: opts.width,\n      height: opts.height,\n      grid: {\n        horzLines: { visible: this.chart.getShowGrid() }\n      }\n    };\n  }\n\n  resize(width: number, height: number): void {\n    this.chart.resize(width, height);\n  }\n\n  remove(): void {\n    this.chart.destroy();\n  }\n}","import { IChartApi, ChartOptions } from './ichart-api';\nimport { ChartApi } from './chart-api';\n\nexport function createChart(container: HTMLElement, options: ChartOptions): IChartApi {\n  return new ChartApi(container, options);\n}"],"names":["VFC"],"mappings":"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"}